<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Processo Ágil: pleshw</title>
  <link rel="stylesheet" href="index.css">
</head>

<body>

  <main>

    <section class="scene">
      <div class="intro">

      </div>
      <div class="content">
        <div class="absolute-0 w-100 h-100 flex-row flex-start">
          <img id="logoScene1" class="" src="assets/logo.png" alt="">
        </div>

        <div class="absolute-0 w-100 h-100 flex-col flex-center">
          <div id="introTextContainer" class="flex-center w-100 introTextContainer">
            <h1 id="introText1">Muita coisa rolou em 2021</h1>
            <h1 id="introText2">Trouxemos um presente e blablabla</h1>
            <h1 id="introText">Texto aquecendo para ver a retrospectiva</h1>
          </div>
          <div id="ocorrenciasCounterContainer">
            <span id="numMovimentacoesScene1Text">Esse é o número de movimentações que os seus processos
              tiveram esse ano</span>
            <h4 id="numMovContainer">
              <span id="numMovimentacoesScene1">0</span>
            </h4>
          </div>

        </div>
        <div class="absolute-0 w-100 h-100 flex-col flex-center">
          <button id="verMaisButton">Ver mais</button>
        </div>
      </div>
    </section>

    <section class="scene">
      <div class="intro">

      </div>
      <div class="content">
        <div class="w-100 h-100 flex-center flex-row">
          <h1 id="funcionarioMes">Funcionário do Ano</h1>
          <h2 id="funcionarioMesDescricao">Um lugarzinho reservado pra destacar a galera que mais acessou
            nosso sistema esse ano!</h2>
        </div>
        <div id="prediosContainerScene2" class="flex-row flex-center">
          <div id="divPredioPublicacoes">
            <div class="foto-colocacao flex-center flex-col">
              <span class="span-colocacao texto-funcionario3">3º lugar</span>
              <img id="fotoFuncionario3" class="foto-funcionario" src="assets/pikachu-3.jfif" alt="">
            </div>
            <span id="nomeFuncionario3" class="texto-funcionario3">Ciro Gomes</span>
          </div>
          <div id="divPredioAndamentos">
            <div class="foto-colocacao flex-center flex-col">
              <span class="span-colocacao texto-funcionario1">1º lugar</span>
              <img id="fotoFuncionario1" class="foto-funcionario spotlight" src="assets/pikachu-1.jpg" alt="">
            </div>
            <span id="nomeFuncionario1" class="texto-funcionario1">Jair Messias Bolsonaro Neles</span>
          </div>
          <div id="divPredioExpedientes">
            <div class="foto-colocacao flex-center flex-col">
              <span class="span-colocacao texto-funcionario2">2º lugar</span>
              <img id="fotoFuncionario2" class="foto-funcionario" src="assets/pikachu-2.jpg" alt="">
            </div>
            <span id="nomeFuncionario2" class="texto-funcionario2">Senhor Lula PT da Silva</span>
          </div>
        </div>
      </div>
    </section>
    <section class="scene">
      <div class="content justify-between align-center">
        <div id="tempoEconomizado" class="flex-col justify-between">
          <h2 style="margin: 1.6em 0px;">Esse é o tempo que você economizou esse ano por usar nosso sistema
          </h2>
          <div style="height: 23em;">
            <h1 id="mesesEconomizados"></h1>
            <h1 id="diasEconomizados"></h1>
            <h1 id="horasEconomizados"></h1>
            <h1 id="minutosEconomizados"></h1>
            <h1 id="segundosEconomizados"></h1>
          </div>
        </div>
        <div id="containerEstimativas" class="h-100 flex-center">
          <div class="w-100 flex-center flex-col h-100">
            <div id="introTextContainerScene3" class="flex-center flex-col justify-around w-100 h-100">
              <h2 id="introTextScene3d">Nesse tempo você conseguiria tranquilamente</h2>
              <div id="estimativasTempo" class="flex-row w-100 justify-around">
                <div>
                  <p class="text-muted">
                    Trabalhar sem parar por mais
                    <span id="tempoParaDiasTrabalho">2</span>
                    dias
                  </p>
                  <img src="assets/trabalho.gif" alt="">
                </div>
                <div>
                  <p class="text-muted">
                    Assistir
                    <span id="tempoParaFilme">2</span>
                    filmes bem demorados
                  </p>
                  <img src="assets/filme.gif" alt="">
                </div>
                <div>
                  <p class="text-muted">
                    Ouvir
                    <span id="tempoParaMusica">2</span>
                    musicas
                  </p>
                  <img src="assets/musica.gif" alt="">
                </div>
                <div>
                  <p class="text-muted">
                    Jogar
                    <span id="tempoParaFutebol">2</span>
                    partidas de futebol
                  </p>
                  <img src="assets/futebol.gif" alt="">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="progress"></div>
  </main>

  <!-- JavaScript Bundle with Popper -->
  <script defer src="lib/anime.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/topojson@3"></script>
  <script defer src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.velocity.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

  <script type="module" src="build/utils.js"></script>
  <script type="module" src="build/CSSAttributes.js"></script>
  <script type="module" src="build/CSSEditor.js"></script>
  <script type="module">
    import { CSSAttributes } from './build/CSSAttributes.js';
    import { CSSEditor } from './build/CSSEditor.js';
    import { SceneScaffold } from './build/Scene/SceneScaffold.js';
    import { Scene } from './build/Scene/Scene.js';
    import { Scene1 } from './build/Components/Scene1.js';
    import { Scene10 } from './build/Components/Scene10.js';
    import { Scene3 } from './build/Components/Scene3.js';
    import { SceneView } from './build/Scene/SceneView.js';
    import { throttle, zeroBefore, animacaoBarraProgresso } from './build/utils.js';

    window.addEventListener('load', () => {

      const scrollMagicIndicatorsController = new ScrollMagic.Controller();

      const scaffolds = document.querySelectorAll('.scene');


      SceneView.createControllers();

      SceneView.addScene(new Scene1(new SceneScaffold(scaffolds[0]), scrollMagicIndicatorsController));

      SceneView.addScene(new Scene10(new SceneScaffold(scaffolds[1]), scrollMagicIndicatorsController));

      SceneView.addScene(new Scene3(new SceneScaffold(scaffolds[2]), 1.62e+8), scrollMagicIndicatorsController);

      SceneView.updateControllers();

      const progressDivCss = new CSSAttributes({
        width: `100%`,
        height: `10px`,
        position: 'fixed',
        isGradient: true,
        gradientRotation: '230deg',
        transition: 'all .3s',
        x: `0px`,
        top: `calc(100% - 10px)`,
        isProgressBar: true,
        progressRotation: '90deg',
        progress: 0,
        progressColor: 'darkblue',
        progressBackground: 'transparent'
      });

      document.getElementById('prevScene').addEventListener('click', evt => {
        SceneView.prev();
      })

      document.getElementById('verMaisButton').addEventListener('click', evt => {
        SceneView.next();
      })

      document.getElementById('nextScene').addEventListener('click', evt => {
        SceneView.next();
      })

      const progressBar = document.querySelector('.progress');

      CSSEditor.from(progressBar, progressDivCss)

      window.addEventListener('scroll', function (evt) {
        throttle(() => {
          const posicaoDestino = (this.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
          animacaoBarraProgresso(progressBar, progressDivCss, posicaoDestino, 'scrollProgress');
        }, 100, 'scrollProgress')
      });

      let ticking = false;
      window.addEventListener('wheel', function (evt) {
        throttle(() => {
          window.requestAnimationFrame(() => {
            if (Math.sign(evt.deltaY) > 0) {
              SceneView.next();
            } else {
              SceneView.prev();
            }
          })
        }, 500, 'wheelNextScene')
      });

      SceneView.scrollToScene(0);


    })
  </script>

</body>

</html>
<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="vortext.css">
  <title>Processo Ágil</title>
  <link rel="stylesheet" href="index.css">
  <script src="lib/fittext.js"></script>
</head>

<body>

  <main>

    <section class="scene">
      <div class="intro">

      </div>
      <div class="content">
        <div class="absolute-0 w-100 h-100 flex-row flex-start">
          <img id="logoScene1" class="" src="assets/logo.png" alt="">
        </div>

        <div class="absolute-0 w-100 h-100 flex-col flex-center">
          <div id="introTextContainer" class="flex-center w-100 introTextContainer">
            <h1 id="introText1">Muita coisa rolou em 2021</h1>
            <h1 id="introText2">Trouxemos um presente e blablabla</h1>
            <h1 id="introText">Texto aquecendo para ver a retrospectiva</h1>
          </div>
          <div id="ocorrenciasCounterContainer">

            <span id="numMovimentacoesScene1Text" class="fw-bold text-muted">Esse é o número de movimentações que os
              seus processos
              tiveram esse ano</span>
            <div class="flex-center w-100 h-100">
              <h4 id="numMovContainer"></h4>
            </div>
            </h4>

          </div>

        </div>
        <div class="absolute-0 w-100 h-100 flex-col flex-center">
          <button id="verMaisButton">Ver mais</button>
        </div>
      </div>
    </section>


    <section class="scene bg-warning">
      <h1 id="tituloCenaPubAndExp" class="text-dark">E dessas movimentações:</h1>
      <div class="content justify-between align-center text-center">
        <div id="qtdPublicacoes" class="card bg-primary mb-3 divPubAndExp">
          <div class="card-header">Publicações</div>
          <div class="card-body p-0 flex-center">
            <h5 class="card-title"><span>40</span></h5>
          </div>
        </div>
        <div id="qtdAndamentos" class="card border-1 border-white mb-3 divPubAndExp">
          <div class="card-header">Andamentos</div>
          <div class="card-body p-0 flex-center">
            <h5 class="card-title"><span>55</span></h5>
          </div>
        </div>
        <div id="qtdExpedientes" class="card bg-danger mb-3 divPubAndExp">
          <div class="card-header">Expedientes</div>
          <div class="card-body p-0 flex-center">
            <h5 class="card-title"><span>19</span></h5>
          </div>
        </div>
      </div>
    </section>

    <section class="scene">
      <div class="content justify-between align-center">
        <div id="tempoEconomizado" class="flex-col justify-between">
          <h3 class="m-3">Esse é o tempo que você economizou esse ano por usar nosso sistema
          </h3>
          <div style="height: 23em;" class="text-primary">
            <h1 id="mesesEconomizados"></h1>
            <h1 id="diasEconomizados"></h1>
            <h1 id="horasEconomizados"></h1>
            <h1 id="minutosEconomizados"></h1>
            <h1 id="segundosEconomizados"></h1>
          </div>
        </div>
        <div id="containerEstimativas" class="h-100 flex-center">
          <div class="w-100 flex-center flex-col h-100">
            <div id="introTextContainerScene3" class="flex-center flex-col justify-around w-100 h-100">
              <h2 id="introTextScene3d">Nesse tempo...</h2>
              <div id="estimativasTempo" class="flex-row w-100 justify-around">
                <div class="card bg-dark text-white">
                  <img src="assets/trabalho.gif" class="card-img" alt="...">
                  <div class="card-img-overlay">
                    <h5 class="card-title">Você conseguiria aprender
                      <span id="tempoParaDiasTrabalho"></span>
                      novo(s) idioma(s)
                    </h5>
                  </div>
                </div>
                <div class="card bg-dark text-white">
                  <img src="assets/filme.gif" class="card-img" alt="...">
                  <div class="card-img-overlay">
                    <h5 class="card-title">Dá pra assistir
                      <span id="tempoParaFilme">2</span>
                      filmes bem demorados
                    </h5>
                  </div>
                </div>
                <div class="card bg-dark text-white">
                  <img src="assets/musica.gif" class="card-img" alt="...">
                  <div class="card-img-overlay">
                    <h5 class="card-title">Que tal ouvir
                      <span id="tempoParaMusica">2</span>
                      musicas
                    </h5>
                  </div>
                </div>
                <div class="card bg-dark text-white">
                  <img src="assets/futebol.gif" class="card-img" alt="...">
                  <div class="card-img-overlay">
                    <h5 class="card-title">Dava para jogar
                      <span id="tempoParaFutebol">2</span>
                      partidas de futebol
                    </h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="scene bg-black">
      <div class="content flex-col flex-center">
        <h1 id="listaVipTitulo" class="text-light">Clientes VIP</h1>
        <div id="clientesVipContainer" class="flex-col justify-around align-center grid">
          <div class="pen">
            <div class="stage">
              <div class="vortext">
                <div data-text="Francisco" class="vortextRibbon down">Francisco</div>
              </div>
              <div class="vortext">
                <div data-text="Irene" class="vortextRibbon spotlight up">Irene</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <section class="scene ">
      <div class="intro">

      </div>
      <div class="content">
        <div class="w-100 h-100 flex-center flex-row">
          <h1 id="funcionarioMes">Funcionário do Ano</h1>
          <h2 id="funcionarioMesDescricao">Um lugarzinho especial (em nosso coração)
            para essa galera que mais interagiu com a gente
            esse ano.
          </h2>
        </div>
        <div id="prediosContainerScene2" class="flex-row flex-center">
          <div id="divPredioPublicacoes">
            <div class="foto-colocacao flex-center flex-col">
              <span class="span-colocacao texto-funcionario3">3º lugar</span>
              <img id="fotoFuncionario3" class="foto-funcionario" src="assets/pikachu-3.jfif" alt="">
            </div>
            <span id="nomeFuncionario3" class="texto-funcionario3">Pikachu Sonolento Cansado</span>
          </div>
          <div id="divPredioAndamentos">
            <div class="foto-colocacao flex-center flex-col">
              <span class="span-colocacao texto-funcionario1">1º lugar</span>
              <img id="fotoFuncionario1" class="foto-funcionario spotlight" src="assets/pikachu-1.jpg" alt="">
            </div>
            <span id="nomeFuncionario1" class="texto-funcionario1">Pikachu Inacio Lula da Silva</span>
          </div>
          <div id="divPredioExpedientes">
            <div class="foto-colocacao flex-center flex-col">
              <span class="span-colocacao texto-funcionario2">2º lugar</span>
              <img id="fotoFuncionario2" class="foto-funcionario" src="assets/pikachu-2.jpg" alt="">
            </div>
            <span id="nomeFuncionario2" class="texto-funcionario2">Senhor Pikachu Pokemon</span>
          </div>
        </div>
      </div>
    </section>



    <div class="progress" style="border-radius: 0 !important;"></div>
  </main>

  <script src="vortext.js"></script>

  <!-- JavaScript Bundle with Popper -->
  <script defer src="lib/anime.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/topojson@3"></script>
  <script defer src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.velocity.js"></script>
  <script defer src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

  <script type="module" src="build/utils.js"></script>
  <script type="module" src="build/CSSAttributes.js"></script>
  <script type="module" src="build/CSSEditor.js"></script>
  <script type="module">
    import { CSSAttributes } from './build/CSSAttributes.js';
    import { CSSEditor } from './build/CSSEditor.js';
    import { SceneScaffold } from './build/Scene/SceneScaffold.js';
    import { Scene } from './build/Scene/Scene.js';
    import { Scene1 } from './build/Components/Scene1.js';
    import { Scene2 } from './build/Components/Scene2.js';
    import { Scene3 } from './build/Components/Scene3.js';
    import { Scene8 } from './build/Components/Scene8.js';
    import { Scene9 } from './build/Components/Scene9.js';
    import { Scene10 } from './build/Components/Scene10.js';

    import { SceneView } from './build/Scene/SceneView.js';
    import { throttle, zeroBefore, animacaoBarraProgresso, minutesToMilliseconds } from './build/utils.js';

    window.addEventListener('load', () => {

      const scrollMagicIndicatorsController = new ScrollMagic.Controller();

      const scaffolds = document.querySelectorAll('.scene');


      SceneView.createControllers();

      SceneView.addScene(new Scene1(new SceneScaffold(scaffolds[0]), minutesToMilliseconds(6372000)), scrollMagicIndicatorsController);

      SceneView.addScene(new Scene2(new SceneScaffold(scaffolds[1])), scrollMagicIndicatorsController);

      SceneView.addScene(new Scene3(new SceneScaffold(scaffolds[2]), 1.22e+9), scrollMagicIndicatorsController);

      SceneView.addScene(new Scene9(new SceneScaffold(scaffolds[3])), scrollMagicIndicatorsController);

      SceneView.addScene(new Scene10(new SceneScaffold(scaffolds[4]), scrollMagicIndicatorsController));

      SceneView.updateControllers();

      const progressDivCss = new CSSAttributes({
        width: `100%`,
        height: `10px`,
        position: 'fixed',
        isGradient: true,
        gradientRotation: '230deg',
        transition: 'all .3s',
        x: `0px`,
        top: `calc(100% - 10px)`,
        isProgressBar: true,
        progressRotation: '90deg',
        progress: 0,
        progressColor: 'darkblue',
        progressBackground: 'transparent'
      });

      document.getElementById('prevScene').addEventListener('click', evt => {
        SceneView.prev();
      })

      document.getElementById('verMaisButton').addEventListener('click', evt => {
        SceneView.next();
      })

      document.getElementById('nextScene').addEventListener('click', evt => {
        SceneView.next();
      })

      const progressBar = document.querySelector('.progress');

      CSSEditor.from(progressBar, progressDivCss)

      window.addEventListener('scroll', function (evt) {
        throttle(() => {
          const posicaoDestino = (this.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
          animacaoBarraProgresso(progressBar, progressDivCss, posicaoDestino, 'scrollProgress');
        }, 100, 'scrollProgress')
      });

      let ticking = false;
      window.addEventListener('wheel', function (evt) {
        throttle(() => {
          window.requestAnimationFrame(() => {
            if (Math.sign(evt.deltaY) > 0) {
              SceneView.next();
            } else {
              SceneView.prev();
            }
          })
        }, 1500, 'wheelNextScene')
      });

      SceneView.scrollToScene(0);



      setStyles();
      render();
      animate();
      setInterval(() => {
        animate();
      }, 10000);
    })
  </script>

</body>

</html>